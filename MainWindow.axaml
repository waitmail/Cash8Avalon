<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="using:Cash8Avalon.ViewModels"
        mc:Ignorable="d"
        d:DesignWidth="1200" d:DesignHeight="700"
        x:Class="Cash8Avalon.MainWindow"
        WindowState="Maximized"
        Title="Касса 8 Авалон"
        Width="1200" Height="700"
        WindowStartupLocation="CenterScreen"
        x:DataType="vm:MainViewModel">

	<Design.DataContext>
		<vm:MainViewModel />
	</Design.DataContext>

	<DockPanel Background="#f0f2f5">
		<!-- Верхнее меню - ПРОСТО ДОБАВЛЯЕМ x:Name="MainMenu" -->
		<Menu x:Name="MainMenu"			  
              DockPanel.Dock="Top" 
              Background="White" 
              BorderBrush="#e0e0e0" 
              BorderThickness="0 0 0 1">
			<MenuItem Header="Справочники">
				<MenuItem Header="Константы"
                          Command="{Binding OpenConstantsCommand}"/>
				<MenuItem Header="Фискальный принтер"
                          Command="{Binding OpenFiscalPrinterCommand}"/>
				<Separator/>
				<MenuItem Header="Выход"
                          Command="{Binding ExitCommand}"
                          Foreground="#d32f2f"/>
			</MenuItem>

			<MenuItem Header="Журналы">
				<MenuItem Header="Кассовые чеки"
                          Command="{Binding OpenReceiptsCommand}"/>
			</MenuItem>

			<MenuItem Header="Служебные">			
                <MenuItem Header="Загрузка данных через интернет" 
                          Command="{Binding OpenInternetDataLoadCommand}"/>
			</MenuItem>
		</Menu>

		<!-- Панель состояния или заголовок -->
		<Border DockPanel.Dock="Top"
                Background="#2A5CAA"
                Height="40"
                Padding="10 0">
			<TextBlock Text="{Binding StatusMessage}"
                       Foreground="White"
                       VerticalAlignment="Center"
                       FontSize="14"/>
		</Border>

		<Grid>
			<!-- Здесь будет отображаться UserControl (Константы) -->
			<ContentControl Content="{Binding CurrentContent}"
							Margin="0"/>
			
			<!-- Заглушка когда ничего не открыто -->
			<Border Background="White"
					CornerRadius="8"
					Margin="20"
					IsVisible="{Binding CurrentContent, Converter={x:Static ObjectConverters.IsNull}}">
				<TextBlock Text=""
						   VerticalAlignment="Center"
						   HorizontalAlignment="Center"
						   FontSize="18"
						   Foreground="#666"/>
			</Border>
		</Grid>
	</DockPanel>
</Window>